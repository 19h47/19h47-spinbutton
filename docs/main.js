!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SpinButton=e():t.SpinButton=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>n});const i=(t,e,i)=>{if(null!==t)return e===i?t.setAttribute("disabled","true"):t.removeAttribute("disabled")},s=(t,e)=>e?`${t} ${1>=t?e.single:e.plural}`:t.toString(),a={text:{single:"item",plural:"items"}};class n{constructor(t,e={}){this.handleClick=t=>this.setValue(t),this.handleInput=t=>{const{target:e}=t,i=parseInt(e.value,10)||0;this.setValue(i)},this.handleKeydown=t=>{const e=t.key||t.code,i=e=>{t.preventDefault(),this.setValue(e)},s={ArrowDown:()=>i(this.value.now-1),ArrowUp:()=>i(this.value.now+1),PageDown:()=>i(this.value.now-5),PageUp:()=>i(this.value.now+5),Home:()=>i(this.value.min),End:()=>i(this.value.max),default:()=>!1};return(s[e]||s.default)()},this.el=t,this.options={...a,...e},this.$input=this.el.querySelector('input[type="text"]'),this.$increase=this.el.querySelector(".js-increase"),this.$decrease=this.el.querySelector(".js-decrease");const i=JSON.parse(this.el.getAttribute("aria-valuenow"));this.text=JSON.parse(this.el.getAttribute("data-spinbutton-text"))||e.text,this.value={min:JSON.parse(this.el.getAttribute("aria-valuemin")),max:JSON.parse(this.el.getAttribute("aria-valuemax")),now:i,text:s(i,this.text).toString()},this.handleClick=this.handleClick.bind(this)}init(){this.setValue(this.value.now,!1),this.initEvents()}initEvents(){this.el.addEventListener("keydown",this.handleKeydown),this.$increase.addEventListener("click",(()=>this.handleClick(this.value.now+1))),this.$decrease.addEventListener("click",(()=>this.handleClick(this.value.now-1))),this.$input.addEventListener("input",this.handleInput)}setMin(t,e=!0){this.value.min=parseInt(t.toString(),10),this.el.setAttribute("aria-valuemin",t.toString()),this.setValue(this.value.now,e)}setMax(t,e=!0){this.value.max=parseInt(t.toString(),10),this.el.setAttribute("aria-valuemax",t.toString()),this.setValue(this.value.now,e)}setValue(t,e=!0){const a=parseInt(t.toString(),10);var n,l;this.value.now=((t,e,i)=>Math.min(Math.max(t,e),i))(a,this.value.min,this.value.max),this.value.text=s(this.value.now,this.text),i(this.$increase,this.value.now,this.value.max),i(this.$decrease,this.value.now,this.value.min),n=this.el,l={"aria-valuenow":this.value.now.toString(),"aria-valuetext":this.value.text},Object.keys(l).map((t=>n.setAttribute(t,l[t]))),this.$input.value=this.value.now.toString(),e&&((t,e={},i="")=>{const s=new CustomEvent(`SpinButton.${i}`,{bubbles:!1,cancelable:!0,detail:e});t.dispatchEvent(s)})(this.el,{value:this.value.now},"change")}}return e})()));